# 2025-11-27 회고

## 오늘 한 강의 / 문제

- filter, map, sort 활용법 및 동작원리 실습(숫자, 문자, 객체배열 등)
- 상품 목록 동적 카드 그리기 및 함수화, 클릭시 가격정렬/더보기(fetch) 기능 구현
- fetch(Ajax) GET/POST, then/catch 동작 실험 및 비동기 데이터 처리 연습

## 핵심 개념 (Pick 3)

1. **고차배열 메서드 원리와 실전 혼동 극복**
   - sort는 내부 비교함수(return a-b, b-a) 원리 꼭 파악해야 한다.
   - filter/map은 원본 변형 없이 새 배열 생성.  
   - 실전에서는 forEach·for문과 비교 실험 병행!
2. **ajax(fetch)로 외부 데이터 받아와서 DOM 동적생성**
   - then 체인 구조(응답→json 파싱→실제 데이터 활용) 흐름 분해하여 깨달음
   - clickcount 등 상태 변수로 더보기 로직 구현, 페이징 기초까지 실습
3. **카드생성/정렬/추가 등 코드 함수화와 중복제거**
   - forEach 통한 카드 그리기 함수, innerHTML 초기화,  
   - 반복되는 fetch-렌더로직 함수로 묶어서 유지보수성/가독성 대폭 상승

## 코드/실험 & 깨달은 점

### 1. **정렬/필터/map 예제와 주석 복습**

```js
let arr = [7, 1, 5, 2, 3, 40, 50];
// 오름차순 정렬
arr.sort((a, b) => a - b);
// 내림차순 정렬
arr.sort((a, b) => b - a);
// filter : 4보다 작은 값만 담은 새 배열
let small = arr.filter(a => a < 4);
// map : 모두 4배
let times4 = arr.map(a => a * 4);

let arr2 = ['a', 'c', 'b', 'e', 'd', 'A'];
arr2.sort();           // 알파벳순
arr2.reverse();        // 역순
arr2.sort((a,b)=>a>b?-1:1); // sort로 내림차순 커스텀

// 실제 상품 카드생성/정렬/더보기(show/hide) 로직을 함수화 해 코드 가독성 향상!
var products = [
  { id: 0, price: 70000, title: 'Blossom Dress' },
  { id: 1, price: 50000, title: 'Springfield Shirt' },
  { id: 2, price: 60000, title: 'Black Monastery' }
];

let cardlist = document.querySelector('.row');
let clickcount = 0;
function 포이치(runArr) {
  runArr.forEach(item => {
    let secCardList = `<div class="col-sm-4">
      <img src="https://placehold.co/600" class="w-100">
      <h5>${item.title}</h5>
      <p>가격 : ${item.price}</p>
    </div>`;
    cardlist.insertAdjacentHTML('beforeend', secCardList);
  });
}
포이치(products);

document.querySelector('#priceArr').addEventListener('click', () => {
  products.sort((a, b) => a.price - b.price);
  cardlist.innerHTML = '';
  포이치(products);
  clickcount = 0;
  document.querySelector('#moreData').style.display = 'block';
});

document.querySelector('#moreData').addEventListener('click', () => {
  if (clickcount == 0) {
    fetch('https://codingapple1.github.io/js/more1.json')
      .then(response => response.json())
      .then(data => { 포이치(data); });
  } else if (clickcount == 1) {
    fetch('https://codingapple1.github.io/js/more2.json')
      .then(response => response.json())
      .then(data => { 포이치(data); });
    document.querySelector('#moreData').style.display = 'none';
  }
  clickcount++;
});
```

### 2. **fetch POST, then/catch 반복 경험**

```js
fetch('https://codingapple1.github.io/hello.txt', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: '홍길동' })
})
.then(response => response.json())
.then(data => { console.log(data); })
.catch(error => { console.log(error) });
// 응답 파싱 흐름, .catch 에러분기까지 더 확실히 이해
```

## 오늘의 깨달음

- sort/filter/map은 for문보다 훨씬 간결하며, 데이터 가공·정렬·추출에 탁월하다.
- sort/콜백 비교함수 동작 정확히 익히니 
  오름/내림 조건 헷갈림 줄어듦,  
  map/filter는 ‘새 배열 생성’임을 실습으로 확실히 체득.
- fetch then/catch 체인, 실제 API 비동기 로직(클릭·상태변수·페이징)에서
  전체 구조를 함수로 관리하니 실무 감각 급상승!
- 반복/중복 코드 함수화만 해도 유지보수성이 크게 개선되는 게 체감됐다.

## 내일 목표

- sort/map/filter 조합으로 상품 정렬기능 숙제 풀기
- localStorage, position: sticky 활용하기
- load 이벤트 강의 듣기
- ajax, map, filter, sort playground 문제 만들어서 풀기(총 3개)

## 짧은 자기 피드백

- 주석 위주 직관적 코딩, 실전 함수화, then-chain 반복으로 ‘현장감’이 붙어서 
  만족스럽다!
- sort/콜백, fetch/then, 함수 분리 등 작은 디테일 관심이 실력차이로 느껴짐.
- 내일은 회사 과제처럼 기능 단위로 직접 구조·주석·테스트까지 꼼꼼히 연습해야겠다.
